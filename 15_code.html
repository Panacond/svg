<!DOCTYPE html>
<html>
<head>
<title>Заміна кружечків на квадрати в SVG</title>
<style>
  svg {
    border: 1px solid black;
    fill:blue;
  }
  circle {
    fill:blue;
  }
  rect {
    fill:blue;
  }
</style>
</head>
<body>

<svg id="mySVG" width="200" height="150">
  <circle class="changeable" cx="30" cy="30" r="20" fill="blue" />
  <circle class="changeable" cx="100" cy="70" r="15" fill="green" />
  <circle class="changeable" cx="170" cy="40" r="25" fill="red" />
</svg>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const svgContainer = document.getElementById('mySVG');
    const circles = svgContainer.querySelectorAll('.changeable');
    const squareSVG = `<rect x="0" y="0" width="40" height="40" fill="orange" />`; // Текстове представлення квадрата

    circles.forEach(circle => {
      const cx = parseFloat(circle.getAttribute('cx'));
      const cy = parseFloat(circle.getAttribute('cy'));
      const r = parseFloat(circle.getAttribute('r'));

      // Створюємо тимчасовий елемент для парсингу SVG-рядка
      const tempElement = document.createElement('div');
      tempElement.innerHTML = squareSVG;
      const newSquare = tempElement.firstChild;

      // Встановлюємо нові атрибути для позиціонування квадрата
      newSquare.setAttribute('x', cx - r); // Центруємо квадрат відносно центра круга
      newSquare.setAttribute('y', cy - r);
      newSquare.setAttribute('width', 2 * r); // Робимо розмір квадрата співмірним діаметру круга
      newSquare.setAttribute('height', 2 * r);

      // Замінюємо кружечок на квадрат
      circle.replaceWith(newSquare);
    });
  });
</script>

</body>
</html>